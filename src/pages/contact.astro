---
import Layout from '../layouts/Layout.astro';
import TerminalNav from '../components/TerminalNav.astro';
import GlitchTransition from '../components/GlitchTransition.jsx';
---

<Layout title="Contact" description="Get in touch with me">
	<TerminalNav />

	<main class="container mx-auto px-6 py-12">
		<div class="max-w-3xl mx-auto">
			<GlitchTransition client:visible>
				<!-- Page Header -->
				<div class="terminal-window mb-12">
					<div class="terminal-header">
						<div class="terminal-button maximize"></div>
						<div class="terminal-button minimize"></div>
						<div class="terminal-button"></div>
					</div>
					<h1 class="font-display text-4xl md:text-5xl font-bold text-neon-cyan mb-4 phosphor-glow">
						<span class="text-neon-green">&gt;</span> mail contact@
					</h1>
					<div class="font-mono text-sm text-neon-magenta">
						<span class="text-neon-green">$</span> Initializing secure connection...
					</div>
				</div>

				<!-- Contact Form -->
				<div class="terminal-window mb-12">
					<form class="space-y-6" id="contact-form">
						<!-- Name Field -->
						<div>
							<label for="name" class="font-mono text-neon-green block mb-2">
								<span class="text-neon-cyan">&gt;</span> Enter your name:
							</label>
							<input
								type="text"
								id="name"
								name="name"
								required
								class="w-full bg-terminal-black border border-neon-cyan/50 text-neon-cyan font-mono px-4 py-2 focus:outline-none focus:border-neon-cyan focus:shadow-neon-cyan rounded"
								placeholder="guest_user"
							/>
						</div>

						<!-- Email Field -->
						<div>
							<label for="email" class="font-mono text-neon-green block mb-2">
								<span class="text-neon-cyan">&gt;</span> Enter your email:
							</label>
							<input
								type="email"
								id="email"
								name="email"
								required
								class="w-full bg-terminal-black border border-neon-cyan/50 text-neon-cyan font-mono px-4 py-2 focus:outline-none focus:border-neon-cyan focus:shadow-neon-cyan rounded"
								placeholder="guest@example.com"
							/>
						</div>

						<!-- Message Field -->
						<div>
							<label for="message" class="font-mono text-neon-green block mb-2">
								<span class="text-neon-cyan">&gt;</span> Enter your message:
							</label>
							<textarea
								id="message"
								name="message"
								required
								rows="6"
								class="w-full bg-terminal-black border border-neon-cyan/50 text-neon-cyan font-mono px-4 py-2 focus:outline-none focus:border-neon-cyan focus:shadow-neon-cyan rounded resize-none"
								placeholder="Type your message here..."
							></textarea>
						</div>

						<!-- Submit Button -->
						<button
							type="submit"
							class="terminal-window px-6 py-3 font-mono text-neon-cyan hover:text-neon-magenta transition-colors duration-300 chromatic-aberration w-full md:w-auto"
						>
							<span class="text-neon-green">[CTRL+S]</span> Send message
						</button>

						<!-- Status Message -->
						<div id="form-status" class="hidden font-mono text-sm mt-4"></div>
					</form>
				</div>

				<!-- Social Links -->
				<div class="terminal-window">
					<h2 class="font-mono text-neon-magenta text-xl mb-4">
						<span class="text-neon-green">&gt;</span> Other connection methods:
					</h2>
					<div class="space-y-3 font-mono">
						<a
							href="https://github.com"
							target="_blank"
							rel="noopener noreferrer"
							class="block text-neon-cyan hover:text-neon-magenta transition-colors chromatic-aberration"
						>
							<span class="text-neon-green">$</span> open github.com/username
						</a>
						<a
							href="https://linkedin.com"
							target="_blank"
							rel="noopener noreferrer"
							class="block text-neon-cyan hover:text-neon-magenta transition-colors chromatic-aberration"
						>
							<span class="text-neon-green">$</span> connect linkedin.com/in/username
						</a>
						<a
							href="https://twitter.com"
							target="_blank"
							rel="noopener noreferrer"
							class="block text-neon-cyan hover:text-neon-magenta transition-colors chromatic-aberration"
						>
							<span class="text-neon-green">$</span> ping @username
						</a>
						<a
							href="mailto:hello@example.com"
							class="block text-neon-cyan hover:text-neon-magenta transition-colors chromatic-aberration"
						>
							<span class="text-neon-green">$</span> mailto:hello@example.com
						</a>
					</div>
				</div>
			</GlitchTransition>
		</div>
	</main>

	<!-- Footer -->
	<footer class="border-t border-neon-cyan/30 py-6 mt-16">
		<div class="container mx-auto px-6 text-center">
			<p class="font-mono text-neon-cyan text-sm">
				<span class="text-neon-green">&gt;</span> System.exit(0)
				<span class="text-neon-magenta">// 2026</span>
			</p>
		</div>
	</footer>
</Layout>

<script>
	// Handle form submission
	const form = document.getElementById('contact-form');
	const status = document.getElementById('form-status');

	if (form && status) {
		form.addEventListener('submit', async (e) => {
			e.preventDefault();

			// Show loading message
			status.classList.remove('hidden');
			status.className = 'font-mono text-sm mt-4 text-neon-cyan';
			status.textContent = '> Sending message... [████░░░░░░] 40%';

			// Simulate sending (replace with actual form handler)
			setTimeout(() => {
				status.className = 'font-mono text-sm mt-4 text-neon-green';
				status.textContent = '✓ Message sent successfully! [████████] 100%\n> Timestamp: ' + new Date().toLocaleTimeString();

				// Reset form
				form.reset();

				// Hide status after 5 seconds
				setTimeout(() => {
					status.classList.add('hidden');
				}, 5000);
			}, 2000);
		});
	}
</script>
