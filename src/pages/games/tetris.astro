---
import Layout from "../../layouts/Layout.astro";
import TopNav from "../../components/TopNav.astro";
import GlitchTransition from "../../components/GlitchTransition.jsx";
import Footer from "../../components/Footer.astro";
import TypedHeading from "../../components/TypedHeading.jsx";
import TetrisGame from "../../components/games/tetris/TetrisGame.jsx";
---

<Layout
  title="Tetris"
  description="Cyberpunk Tetris - stack blocks and fight entropy in this neon-drenched arcade game"
>
  <TopNav />

  <main class="container mx-auto px-6 py-12">
    <GlitchTransition client:visible>
      <div class="terminal-window max-w-5xl mx-auto mb-8">
        <TypedHeading
          client:visible
          strings={["> ./tetris --execute"]}
          typeSpeed={50}
          showCursor={false}
          loop={false}
          onComplete={() => {}}
          className="font-display text-3xl md:text-4xl font-bold text-neon-cyan phosphor-glow mb-4"
        />
        <div class="font-mono text-xs text-neon-cyan/50 mt-2">
          <a href="/games" class="hover:text-neon-magenta transition-colors">&lt; back to arcade</a>
        </div>
      </div>

      <div class="max-w-5xl mx-auto mb-8">
        <TetrisGame client:only="react" />
      </div>

      <div class="terminal-window max-w-5xl mx-auto">
        <div class="font-mono text-xs md:text-sm text-neon-cyan/70 text-center space-y-1">
          <div>
            <span class="text-neon-green">CONTROLS:</span>
            <span class="mx-2">[&#x2190;&#x2192;] MOVE</span>
            <span class="mx-2">[&#x2191;] ROTATE</span>
            <span class="mx-2">[&#x2193;] SOFT DROP</span>
            <span class="mx-2">[SPACE] HARD DROP</span>
            <span class="mx-2">[C] HOLD</span>
            <span class="mx-2">[ENTER] START</span>
          </div>
        </div>
      </div>
    </GlitchTransition>
  </main>

  <Footer />
</Layout>
